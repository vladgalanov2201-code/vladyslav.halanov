<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<title>PHP úlohy – jednoduchá verzia</title>
</head>
<body>

<?php
$page = $_GET["page"] ?? null;

// -------------------- 1. Cena s DPH --------------------
if ($page === "dph") {

    if ($_SERVER['REQUEST_METHOD'] !== "POST") {
        echo "<h2>Cena s DPH</h2>
        <form method='post'>
            Počet kusov:<br>
            <input type='number' name='pocet' required><br>
            Cena bez DPH (€):<br>
            <input type='number' step='0.01' name='cena' required><br><br>
            <input type='submit' value='Vypočítať'>
        </form>";
    } else {
        $suma = floatval($_POST["pocet"]) * floatval($_POST["cena"]) * 1.20;
        echo "Cena s DPH: <b>".number_format($suma, 2)." €</b><br><br>";
    }

    echo "<a href='index.php'>Späť</a>";
    exit;
}

// -------------------- 2. Najmenšie číslo --------------------
if ($page === "minimum") {

    if ($_SERVER['REQUEST_METHOD'] !== "POST") {
        echo "<h2>Najmenšie číslo</h2>
        <form method='post'>
            A:<br><input type='number' name='a' required><br>
            B:<br><input type='number' name='b' required><br>
            C:<br><input type='number' name='c' required><br><br>
            <input type='submit' value='Nájsť minimum'>
        </form>";
    } else {
        $a = floatval($_POST["a"]);
        $b = floatval($_POST["b"]);
        $c = floatval($_POST["c"]);
        $min = min($a, $b, $c);
        echo "Najmenšie číslo: <b>$min</b><br><br>";
    }

    echo "<a href='index.php'>Späť</a>";
    exit;
}

// -------------------- 3. Spotreba PHM --------------------
if ($page === "spotreba") {

    if ($_SERVER['REQUEST_METHOD'] !== "POST") {
        echo "<h2>Spotreba PHM</h2>
        <form method='post'>
            Kilometre:<br><input type='number' name='km' required><br>
            Litre:<br><input type='number' step='0.01' name='litre' required><br>
            Cena (€):<br><input type='number' step='0.01' name='cena' required><br><br>
            <input type='submit' value='Vypočítať'>
        </form>";
    } else {
        $km = floatval($_POST["km"]);
        $l  = floatval($_POST["litre"]);
        $c  = floatval($_POST["cena"]);
        echo "Spotreba na 100 km: <b>".number_format(($l/$km)*100,2)." l</b><br>";
        echo "Cena za 1 km: <b>".number_format($c/$km,2)." €</b><br><br>";
    }

    echo "<a href='index.php'>Späť</a>";
    exit;
}

// -------------------- 4. Prevody jednotiek --------------------
if ($page === "prevody") {

    if ($_SERVER['REQUEST_METHOD'] !== "POST") {
        echo "<h2>Prevody</h2>
        <form method='post'>
            Hodnota:<br>
            <input type='number' step='0.01' name='hodnota' required><br>
            Typ prevodu:<br>
            <select name='typ'>
                <option value='minsek'>Min → Sek</option>
                <option value='sekmin'>Sek → Min</option>
                <option value='skeur'>SK → €</option>
                <option value='eursk'>€ → SK</option>
                <option value='mkm'>m → km</option>
                <option value='kmm'>km → m</option>
            </select><br><br>
            <input type='submit' value='Previesť'>
        </form>";
    } else {
        $h = floatval($_POST["hodnota"]);
        $t = $_POST["typ"];

        switch ($t) {
            case "minsek": $v = $h * 60 . " sek"; break;
            case "sekmin": $v = $h / 60 . " min"; break;
            case "skeur": $v = number_format($h / 30.126,2)." €"; break;
            case "eursk": $v = number_format($h * 30.126,2)." SK"; break;
            case "mkm":   $v = $h / 1000 . " km"; break;
            case "kmm":   $v = $h * 1000 . " m"; break;
        }

        echo "Výsledok: <b>$v</b><br><br>";
    }

    echo "<a href='index.php'>Späť</a>";
    exit;
}

// -------------------- 5. Kvadratická rovnica --------------------
if ($page === "kvadraticka") {

    if ($_SERVER['REQUEST_METHOD'] !== "POST") {
        echo "<h2>Kvadratická rovnica</h2>
        <form method='post'>
            a:<br><input type='number' name='a' required><br>
            b:<br><input type='number' name='b' required><br>
            c:<br><input type='number' name='c' required><br><br>
            <input type='submit' value='Vyriešiť'>
        </form>";
    } else {
        $a=floatval($_POST["a"]);
        $b=floatval($_POST["b"]);
        $c=floatval($_POST["c"]);

        if ($a == 0) echo "Toto nie je kvadratická rovnica.";
        else {
            $D = $b*$b - 4*$a*$c;
            echo "D = <b>$D</b><br><br>";
            if ($D < 0) echo "Žiadne reálne riešenie.";
            elseif ($D == 0) echo "x = <b>".(-$b/(2*$a))."</b>";
            else {
                echo "x1 = <b>".((- $b + sqrt($D)) / (2*$a))."</b><br>";
                echo "x2 = <b>".((- $b - sqrt($D)) / (2*$a))."</b>";
            }
        }
        echo "<br><br>";
    }

    echo "<a href='index.php'>Späť</a>";
    exit;
}
?>

<h2>Jednoduché PHP úlohy</h2>
<ul>
    <li><a href="?page=dph">Cena s DPH</a></li>
    <li><a href="?page=minimum">Najmenšie číslo</a></li>
    <li><a href="?page=spotreba">Spotreba PHM</a></li>
    <li><a href="?page=prevody">Prevody jednotiek</a></li>
    <li><a href="?page=kvadraticka">Kvadratická rovnica</a></li>
</ul>

</body>
</html>
